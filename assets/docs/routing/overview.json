{"title":"Stencil Router","description":"Stencil Router","url":"/docs/router","contributors":["jthoms1"],"headings":[{"id":"stencil-router","level":1,"text":"Stencil Router"},{"id":"installation","level":2,"text":"Installation"},{"id":"configuration","level":2,"text":"Configuration"},{"id":"server-configuration","level":3,"text":"Server configuration"},{"id":"apache-2","level":4,"text":"Apache 2"},{"id":"nginx","level":4,"text":"Nginx"}],"srcPath":"./src/docs/routing/overview.md","content":"\n<h1 id=\"stencil-router\">\n  \n  Stencil Router\n  \n</h1>\n<p>The developer experience of the router is designed to be similar to <a href=\"https://reacttraining.com/react-router/\">React Router</a>, and it should make it easy to build apps of all size, from the very simple to the very complex.</p>\n\n<h2 id=\"installation\">\n  <a class=\"heading-link\" href=\"#installation\"><app-icon name=\"link\"></app-icon>\n  Installation\n  </a>\n</h2>\n<p>In your project directory, run <code>npm install @stencil/router --save</code>.\nThen add <code>import &#39;@stencil/router&#39;</code> to your root component (normally the <code>my-app</code> component if you are using one of the starters).</p>\n\n<h2 id=\"configuration\">\n  <a class=\"heading-link\" href=\"#configuration\"><app-icon name=\"link\"></app-icon>\n  Configuration\n  </a>\n</h2>\n<p>Applications built with Stencil should have one <code>stencil-router</code> element for the entire application. Make sure to specify an <code>id</code> attribute on it.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-router</span><span class=\"token punctuation\">></span></span>\n<span class=\"token operator\">...</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>stencil-router</span><span class=\"token punctuation\">></span></span></code></pre>\n  </highlight-code-line>\n  <p>Within the <code>stencil-router</code> element, we want to declare our set of <code>stencil-route</code>s. Each <code>stencil-route</code> needs to take a url, and then an HTML element tag name.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-router</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route-switch</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>landing-page<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">exact</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/demos<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>demos-page<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/demos/rendering<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>fiber-demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/docs<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>docs<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/docs/getting-started<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>getting-started<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stencil-route</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/components<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>basics-components<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>stencil-route-switch</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>stencil-router</span><span class=\"token punctuation\">></span></span></code></pre>\n  </highlight-code-line>\n  <p>When navigating to <code>/demos/rendering</code> based on the above configuration, the <code>demos-page</code> component will be loaded with a child component <code>fiber-demo</code>. They will both be loaded as children of their corresponding stencil-routes but they are not related other than both match the route. Nested routes/components just work.</p>\n\n<h3 id=\"server-configuration\">\n  <a class=\"heading-link\" href=\"#server-configuration\"><app-icon name=\"link\"></app-icon>\n  Server configuration\n  </a>\n</h3>\n<p>Depending to the choice you made regarding the hosting of your Stencil app, you may want to configure your server accordingly to the followings.</p>\n\n<h4 id=\"apache-2\">\n  <a class=\"heading-link\" href=\"#apache-2\"><app-icon name=\"link\"></app-icon>\n  Apache 2\n  </a>\n</h4>\n\n  <highlight-code-line >\n    <pre class=\"language-apache\"><code class=\"language-apache\">RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^ index.html [L]</code></pre>\n  </highlight-code-line>\n  \n<h4 id=\"nginx\">\n  <a class=\"heading-link\" href=\"#nginx\"><app-icon name=\"link\"></app-icon>\n  Nginx\n  </a>\n</h4>\n\n  <highlight-code-line >\n    <pre class=\"language-vhost\"><code class=\"language-vhost\">location / {\n  try_files $uri $uri/ /index.html;\n}</code></pre>\n  </highlight-code-line>\n  "}