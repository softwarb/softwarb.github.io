{"title":"Module Bundling","description":"Module Bundling","url":"/docs/module-bundling","contributors":["jthoms1","adamdbradley","kensodemann","manucorporat"],"headings":[{"id":"module-bundling","level":1,"text":"Module Bundling"}],"srcPath":"./src/docs/tooling/module-bundling.md","content":"\n<h1 id=\"module-bundling\">\n  \n  Module Bundling\n  \n</h1>\n<p>Depending on which libraries a project is dependent on, the <a href=\"https://www.npmjs.com/package/rollup-plugin-node-builtins\">rollup-plugin-node-builtins</a> plugin may be required. In such cases, an error message similar to the following will be displayed at build time.</p>\n<pre><code>[ ERROR ]  Bundling Node Builtin\n           For the import \"crypto\" to be bundled from\n           commonjs-external:crypto, ensure the \"rollup-plugin-node-builtins\"\n           plugin is installed and added to the stencil config plugins. Please\n           see the bundling docs for more information.</code></pre><p>In some cases, the <a href=\"https://www.npmjs.com/package/rollup-plugin-node-globals\">rollup-plugin-node-globals</a> plugin may also be required.</p>\n<ol>\n<li>Install both npm packages:</li>\n</ol>\n\n  <highlight-code-line >\n    <pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> rollup-plugin-node-builtins --save-dev\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> rollup-plugin-node-globals --save-dev</code></pre>\n  </highlight-code-line>\n  <p>And update the <code>stencil.config.ts</code> file including both plugins:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Config <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@stencil/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">import</span> builtins <span class=\"token keyword\">from</span> <span class=\"token string\">'rollup-plugin-node-builtins'</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">import</span> globals <span class=\"token keyword\">from</span> <span class=\"token string\">'rollup-plugin-node-globals'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> config<span class=\"token punctuation\">:</span> Config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'mycomponents'</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">+</span>  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n<span class=\"token operator\">+</span>    <span class=\"token function\">builtins</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">+</span>    <span class=\"token function\">globals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">+</span>  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  "}